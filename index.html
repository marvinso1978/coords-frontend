<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Coords Map</title>
  <style>
    :root{
      /* tweak these widths to fit your labels/content */
      --col-lv: 60px;
      --col-x: 90px;
      --col-y: 90px;
      --col-server: 72px;
      --col-action: 80px;

      --header-height: 44px;   /* height of top header row */
      --addrow-height: 44px;   /* height of add row */
    }

    body{ font-family: Arial, sans-serif; margin: 12px; }

    .table-wrapper {
      border: 1px solid #ccc;
      max-height: 620px;        /* visible viewport height for table */
      overflow: auto;           /* gives a scrollable viewport for both x and y */
    }

    table {
      border-collapse: collapse;
      width: 100%;
      table-layout: fixed;      /* important: columns use widths from colgroup */
      min-width: 980px;         /* ensure horizontal scroll if screen narrow */
    }

    colgroup col { /* no styles here; each col has inline style below */ }

    th, td {
      border: 1px solid #ddd;
      padding: 6px 8px;
      text-align: center;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      background: white;
      box-sizing: border-box;
    }

    thead tr:first-child th {
      position: sticky;
      top: 0;
      z-index: 5;
      height: var(--header-height);
      background: #f4f4f4;
    }

    /* add-row (second thead row) sticky just below header row */
    thead tr#add-row td, thead tr#add-row th {
      position: sticky;
      top: var(--header-height);
      z-index: 4;
      background: #fbfbfb;
      height: var(--addrow-height);
    }

    /* Freeze first 3 columns: lv (col 1), x (col 2), y (col 3)
       left offsets must equal cumulative widths of preceding cols */
    /* column widths from :root:
       col1 = --col-lv
       col2 = --col-x
       col3 = --col-y
    */
    /* 1st column */
    th:nth-child(1), td:nth-child(1) {
      position: sticky;
      left: 0;
      z-index: 6; /* higher than rows so header cells appear above */
      background: #fff;
    }
    /* 2nd column: left = width of 1st col */
    th:nth-child(2), td:nth-child(2) {
      position: sticky;
      left: var(--col-lv);
      z-index: 6;
      background: #fff;
    }
    /* 3rd column: left = width(1st) + width(2nd) */
    th:nth-child(3), td:nth-child(3) {
      position: sticky;
      left: calc(var(--col-lv) + var(--col-x));
      z-index: 6;
      background: #fff;
    }

    /* action column (last) can be right-aligned but not sticky */
    th.action, td.action { width: var(--col-action); }

    /* small controls */
    button.toggle-btn { cursor: pointer; width: 34px; height: 34px; }
    button.delete-btn { cursor: pointer; background: #c0392b; color: #fff; border: none; padding: 6px; }
    select.filter, input.filter { width: 100%; box-sizing: border-box; }

    /* ensure header & add-row look aligned when a vertical scrollbar appears:
       scrollbar is inside .table-wrapper; because thead is part of the same table
       and uses sticky inside that scroller, alignment will be preserved.
    */
  </style>
</head>
<body>
  <h1>Coordinates Map</h1>
  <button id="refresh-btn">Refresh Table</button>

  <div class="table-container">
    <table id="coords-table">
      <thead>
        <tr>
          <th>LV<br><input type="text" class="filter" data-key="lv" placeholder="Filter LV"></th>
          <th>X<br><input type="text" class="filter" data-key="x" placeholder="Filter X"></th>
          <th>Y<br><input type="text" class="filter" data-key="y" placeholder="Filter Y"></th>
          <th>1018<br>
            <select class="filter" data-key="servers-0">
              <option value="">All</option>
              <option value="true">游릭</option>
              <option value="false">丘쀮잺</option>
            </select>
          </th>
          <th>1012<br>
            <select class="filter" data-key="servers-1">
              <option value="">All</option>
              <option value="true">游릭</option>
              <option value="false">丘쀮잺</option>
            </select>
          </th>
          <th>1011<br>
            <select class="filter" data-key="servers-2">
              <option value="">All</option>
              <option value="true">游릭</option>
              <option value="false">丘쀮잺</option>
            </select>
          </th>
          <th>1016<br>
            <select class="filter" data-key="servers-3">
              <option value="">All</option>
              <option value="true">游릭</option>
              <option value="false">丘쀮잺</option>
            </select>
          </th>
          <th>1002<br>
            <select class="filter" data-key="servers-4">
              <option value="">All</option>
              <option value="true">游릭</option>
              <option value="false">丘쀮잺</option>
            </select>
          </th>
          <th>1003<br>
            <select class="filter" data-key="servers-5">
              <option value="">All</option>
              <option value="true">游릭</option>
              <option value="false">丘쀮잺</option>
            </select>
          </th>
          <th>1004<br>
            <select class="filter" data-key="servers-6">
              <option value="">All</option>
              <option value="true">游릭</option>
              <option value="false">丘쀮잺</option>
            </select>
          </th>
          <th>1014<br>
            <select class="filter" data-key="servers-7">
              <option value="">All</option>
              <option value="true">游릭</option>
              <option value="false">丘쀮잺</option>
            </select>
          </th>
          <th>Action</th>
        </tr>
        <tr id="add-row">
          <td><input type="text" id="new-lv" placeholder="LV"></td>
          <td><input type="text" id="new-x" placeholder="X"></td>
          <td><input type="text" id="new-y" placeholder="Y"></td>
          <td><button class="server-toggle" data-index="0">丘쀮잺</button></td>
          <td><button class="server-toggle" data-index="1">丘쀮잺</button></td>
          <td><button class="server-toggle" data-index="2">丘쀮잺</button></td>
          <td><button class="server-toggle" data-index="3">丘쀮잺</button></td>
          <td><button class="server-toggle" data-index="4">丘쀮잺</button></td>
          <td><button class="server-toggle" data-index="5">丘쀮잺</button></td>
          <td><button class="server-toggle" data-index="6">丘쀮잺</button></td>
          <td><button class="server-toggle" data-index="7">丘쀮잺</button></td>
          <td><button id="add-inline-btn">Add</button></td>
        </tr>
      </thead>
      <tbody>
        <!-- Data rows will be dynamically inserted here -->
      </tbody>
    </table>
  </div>

  <script src="script.js"></script>
</body>
</html>
